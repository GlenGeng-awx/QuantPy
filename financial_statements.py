from datetime import datetime
from dateutil.relativedelta import relativedelta
from conf import *

#
# https://www.nasdaq.com/market-activity/stocks/orcl/earnings
# https://finance.yahoo.com/calendar/earnings?day=2025-08-25
#
Financial_Statements = {
    ERIC: [
        '2025-10-14',
        '2025-07-15',
        '2025-04-15',
        '2025-01-24',

        '2024-10-15',
        '2024-07-12',
        '2024-04-16',
        '2024-01-23',

        '2023-10-17',
        '2023-07-14',
        '2023-04-18',
        '2023-01-20',
    ],
    JPM: [
        '2025-10-14',
        '2025-07-15',
        '2025-04-11',
        '2025-01-15',

        '2024-10-11',
        '2024-07-12',
        '2024-04-12',
        '2024-01-12',

        '2023-10-13',
        '2023-07-14',
        '2023-04-14',
        '2023-01-13',
    ],
    BAC: [
        '2025-10-15',
        '2025-07-16',
        '2025-04-15',
        '2025-01-16',

        '2024-10-15',
        '2024-07-16',
        '2024-04-16',
        '2024-01-12',

        '2023-10-17',
        '2023-07-18',
        '2023-04-18',
        '2023-01-13',
    ],
    GS: [
        '2025-10-14',
        '2025-07-16',
        '2025-04-14',
        '2025-01-15',

        '2024-10-15',
        '2024-07-15',
        '2024-04-15',
        '2024-01-16',

        '2023-10-17',
        '2023-07-19',
        '2023-04-18',
        '2023-01-17',
    ],
    MS: [
        '2025-10-15',
        '2025-07-16',
        '2025-04-11',
        '2025-01-16',

        '2024-10-16',
        '2024-07-16',
        '2024-04-16',
        '2024-01-16',

        '2023-10-18',
        '2023-07-18',
        '2023-04-19',
        '2023-01-17',
    ],
    ASML: [
        '2025-10-15',
        '2025-07-16',
        '2025-04-16',
        '2025-01-29',

        '2024-10-15',
        '2024-07-17',
        '2024-04-17',
        '2024-01-24',

        '2023-10-18',
        '2023-07-19',
        '2023-04-19',
        '2023-01-25',
    ],
    JNJ: [
        '2025-10-14',
        '2025-07-16',
        '2025-04-15',
        '2025-01-22',

        '2024-10-15',
        '2024-07-17',
        '2024-04-16',
        '2024-01-23',

        '2023-10-17',
        '2023-07-20',
        '2023-04-18',
        '2023-01-24',
    ],
    TSM: [
        '2025-10-16',
        '2025-07-17',
        '2025-04-17',
        '2025-01-16',

        '2024-10-17',
        '2024-07-18',
        '2024-04-18',
        '2024-01-18',

        '2023-10-19',
        '2023-07-20',
        '2023-04-20',
        '2023-01-12',
    ],
    NFLX: [
        '2025-10-21',
        '2025-07-17',
        '2025-04-17',
        '2025-01-21',

        '2024-10-17',
        '2024-07-18',
        '2024-04-18',
        '2024-01-23',

        '2023-10-18',
        '2023-07-19',
        '2023-04-18',
        '2023-01-19',
    ],
    KO: [
        '2025-10-21',
        '2025-07-22',
        '2025-04-29',
        '2025-02-11',

        '2024-10-23',
        '2024-07-23',
        '2024-04-30',
        '2024-02-13',

        '2023-10-24',
        '2023-07-26',
        '2023-04-24',
        '2023-02-14',
    ],
    TSLA: [
        '2025-10-22',
        '2025-07-23',
        '2025-04-22',
        '2025-01-29',

        '2024-10-23',
        '2024-07-23',
        '2024-04-23',
        '2024-01-24',

        '2023-10-18',
        '2023-07-19',
        '2023-04-19',
        '2023-01-25',
    ],
    GOOG: [
        '2025-10-28',
        '2025-07-23',
        '2025-04-24',
        '2025-02-04',

        '2024-10-29',
        '2024-07-23',
        '2024-04-25',
        '2024-01-30',

        '2023-10-24',
        '2023-07-25',
        '2023-04-25',
        '2023-02-02',
    ],
    INTC: [
        '2025-10-30',
        '2025-07-24',
        '2025-04-24',
        '2025-01-30',

        '2024-10-31',
        '2024-08-01',
        '2024-04-25',
        '2024-01-25',

        '2023-10-26',
        '2023-07-27',
        '2023-04-27',
        '2023-01-26',
    ],
    PYPL: [
        '2025-10-28',
        '2025-07-29',
        '2025-04-29',
        '2025-02-04',

        '2024-10-29',
        '2024-07-30',
        '2024-04-30',
        '2024-02-07',

        '2023-11-01',
        '2023-08-02',
        '2023-05-08',
        '2023-02-09',
    ],
    BA: [
        '2025-10-22',
        '2025-07-29',
        '2025-04-23',
        '2025-01-28',

        '2024-10-23',
        '2024-07-31',
        '2024-04-24',
        '2024-01-31',

        '2023-10-25',
        '2023-07-26',
        '2023-04-26',
        '2023-01-25',
    ],
    VISA: [
        '2025-10-28',
        '2025-07-29',
        '2025-04-29',
        '2025-01-30',

        '2024-10-29',
        '2024-07-23',
        '2024-04-23',
        '2024-01-25',

        '2023-10-24',
        '2023-07-25',
        '2023-04-25',
        '2023-01-26',
    ],
    PG: [
        '2025-10-24',
        '2025-07-29',
        '2025-04-24',
        '2025-01-22',

        '2024-10-18',
        '2024-07-30',
        '2024-04-19',
        '2024-01-23',

        '2023-10-18',
        '2023-07-28',
        '2023-04-21',
        '2023-01-19',
    ],
    SPOT: [
        '2025-11-04',
        '2025-07-29',
        '2025-04-29',
        '2025-02-04',

        '2024-11-12',
        '2024-07-23',
        '2024-04-23',
        '2024-02-06',

        '2023-10-24',
        '2023-07-25',
        '2023-04-25',
        '2023-01-31',
    ],
    MRK: [
        '2025-10-30',
        '2025-07-29',
        '2025-04-24',
        '2025-02-04',

        '2024-10-31',
        '2024-07-30',
        '2024-04-25',
        '2024-02-01',

        '2023-10-26',
        '2023-08-01',
        '2023-04-27',
        '2023-02-02',
    ],
    META: [
        '2025-10-29',
        '2025-07-30',
        '2025-04-30',
        '2025-01-29',

        '2024-10-30',
        '2024-07-31',
        '2024-04-24',
        '2024-02-01',

        '2023-10-25',
        '2023-07-26',
        '2023-04-26',
        '2023-02-01',
    ],
    MSFT: [
        '2025-10-29',
        '2025-07-30',
        '2025-04-30',
        '2025-01-29',

        '2024-10-30',
        '2024-07-30',
        '2024-04-25',
        '2024-01-30',

        '2023-10-24',
        '2023-07-25',
        '2023-04-25',
        '2023-01-24',
    ],
    QCOM: [
        '2025-11-05',
        '2025-07-30',
        '2025-04-30',
        '2025-02-05',

        '2024-11-06',
        '2024-07-31',
        '2024-05-01',
        '2024-01-31',

        '2023-11-01',
        '2023-08-02',
        '2023-05-03',
        '2023-02-02',
    ],
    HOOD: [
        '2025-10-29',
        '2025-07-30',
        '2025-04-30',
        '2025-02-12',

        '2024-10-30',
        '2024-08-07',
        '2024-05-08',
        '2024-02-13',

        '2023-11-07',
        '2023-08-02',
        '2023-05-10',
        '2023-02-08',
    ],
    CFLT: [
        '2025-10-29',
        '2025-07-30',
        '2025-04-30',
        '2025-02-11',

        '2024-10-30',
        '2024-07-31',
        '2024-05-07',
        '2024-02-07',

        '2023-11-01',
        '2023-08-02',
        '2023-05-03',
        '2023-01-30',
    ],
    ETSY: [
        '2025-10-29',
        '2025-07-30',
        '2025-04-30',
        '2025-02-19',

        '2024-10-30',
        '2024-07-31',
        '2024-05-01',
        '2024-02-21',

        '2023-11-01',
        '2023-08-02',
        '2023-05-03',
        '2023-02-22',
    ],
    EDU: [
        '2025-10-22',
        '2025-07-30',
        '2025-04-23',
        '2025-01-21',

        '2024-10-23',
        '2024-07-31',
        '2024-04-24',
        '2024-01-24',

        '2023-10-25',
        '2023-07-26',
        '2023-04-19',
        '2023-01-17',
    ],
    EBAY: [
        '2025-10-29',
        '2025-07-30',
        '2025-04-30',
        '2025-02-26',

        '2024-10-30',
        '2024-07-31',
        '2024-05-01',
        '2024-02-27',

        '2023-11-07',
        '2023-07-26',
        '2023-04-26',
        '2023-02-22',
    ],
    AAPL: [
        '2025-10-30',
        '2025-07-31',
        '2025-05-01',
        '2025-01-30',

        '2024-10-31',
        '2024-08-01',
        '2024-05-02',
        '2024-02-01',

        '2023-11-02',
        '2023-08-03',
        '2023-05-04',
        '2023-02-02',
    ],
    AMZN: [
        '2025-10-30',
        '2025-07-31',
        '2025-05-01',
        '2025-02-06',

        '2024-10-31',
        '2024-08-01',
        '2024-04-30',
        '2024-02-01',

        '2023-10-26',
        '2023-08-03',
        '2023-04-27',
        '2023-02-02',
    ],
    MA: [
        '2025-10-30',
        '2025-07-31',
        '2025-05-01',
        '2025-01-30',

        '2024-10-31',
        '2024-07-31',
        '2024-05-01',
        '2024-01-31',

        '2023-10-26',
        '2023-07-27',
        '2023-04-27',
        '2023-01-26',
    ],
    COIN: [
        '2025-11-05',
        '2025-07-31',  # bad
        '2025-05-08',
        '2025-02-13',

        '2024-10-30',
        '2024-08-01',
        '2024-05-02',
        '2024-02-15',

        '2023-11-02',
        '2023-08-03',
        '2023-05-04',
        '2023-02-21',
    ],
    XOM: [
        '2025-10-31',
        '2025-08-01',
        '2025-05-02',
        '2025-01-31',

        '2024-11-01',
        '2024-08-02',
        '2024-04-26',
        '2024-02-02',

        '2023-10-27',
        '2023-07-28',
        '2023-04-28',
        '2023-01-31',
    ],
    CVX: [
        '2025-10-31',
        '2025-08-01',
        '2025-05-02',
        '2025-01-31',

        '2024-11-01',
        '2024-08-02',
        '2024-04-26',
        '2024-02-02',

        '2023-10-27',
        '2023-07-28',
        '2023-04-28',
        '2023-01-27',
    ],
    MRNA: [
        '2025-11-06',
        '2025-08-01',
        '2025-05-01',
        '2025-02-14',

        '2024-11-07',
        '2024-08-01',
        '2024-05-02',
        '2024-02-22',

        '2023-11-02',
        '2023-08-03',
        '2023-05-04',
        '2023-02-23',
    ],
    BNTX: [
        '2025-11-03',
        '2025-08-04',
        '2025-05-05',
        '2025-03-10',

        '2024-11-04',
        '2024-08-05',
        '2024-05-06',
        '2024-03-20',

        '2023-11-06',
        '2023-08-07',
        '2023-05-08',
        '2023-03-27',
    ],
    PLTR: [
        '2025-11-03',
        '2025-08-04',
        '2025-05-05',
        '2025-02-03',

        '2024-11-04',
        '2024-08-05',
        '2024-05-06',
        '2024-02-05',

        '2023-11-02',
        '2023-08-07',
        '2023-05-08',
        '2023-02-13',
    ],
    AMD: [
        '2025-11-04',
        '2025-08-05',
        '2025-05-06',
        '2025-02-04',

        '2024-10-29',
        '2024-07-30',
        '2024-04-30',
        '2024-01-30',

        '2023-10-31',
        '2023-08-01',
        '2023-05-02',
        '2023-01-31',
    ],
    PFE: [
        '2025-11-04',
        '2025-08-05',
        '2025-04-29',
        '2025-02-04',

        '2024-10-29',
        '2024-07-30',
        '2024-05-01',
        '2024-01-30',

        '2023-10-31',
        '2023-08-01',
        '2023-05-02',
        '2023-01-31',
    ],
    CPNG: [
        '2025-11-04',
        '2025-08-05',
        '2025-05-06',
        '2025-02-25',

        '2024-11-05',
        '2024-08-06',
        '2024-05-07',
        '2024-02-27',

        '2023-11-07',
        '2023-08-08',
        '2023-05-09',
        '2023-02-28',
    ],
    SNAP: [
        '2025-10-28',
        '2025-08-05',
        '2025-04-29',
        '2025-02-04',

        '2024-10-29',
        '2024-08-01',
        '2024-04-25',
        '2024-02-06',

        '2023-10-24',
        '2023-07-25',
        '2023-04-27',
        '2023-01-31',
    ],
    RIVN: [
        '2025-11-06',
        '2025-08-05',
        '2025-05-06',
        '2025-02-20',

        '2024-11-07',
        '2024-08-06',
        '2024-05-07',
        '2024-02-21',

        '2023-11-07',
        '2023-08-08',
        '2023-05-09',
        '2023-02-28',
    ],
    NVO: [
        '2025-11-05',
        '2025-08-06',
        '2025-05-07',
        '2025-02-05',

        '2024-11-06',
        '2024-08-07',
        '2024-05-02',
        '2024-01-31',

        '2023-11-02',
        '2023-08-09',
        '2023-05-04',
        '2023-02-01',
    ],
    DIS: [
        '2025-11-12',
        '2025-08-06',
        '2025-05-07',
        '2025-02-05',

        '2024-11-14',
        '2024-08-07',
        '2024-05-07',
        '2024-02-07',

        '2023-11-08',
        '2023-08-09',
        '2023-05-10',
        '2023-02-08',
    ],
    MCD: [
        '2025-10-28',
        '2025-08-06',
        '2025-05-01',
        '2025-02-10',

        '2024-10-29',
        '2024-07-29',
        '2024-04-30',
        '2024-02-05',

        '2023-10-30',
        '2023-07-27',
        '2023-04-25',
        '2023-01-31',
    ],
    UBER: [
        '2025-10-30',
        '2025-08-06',
        '2025-05-07',
        '2025-02-05',

        '2024-10-31',
        '2024-08-06',
        '2024-05-08',
        '2024-02-07',

        '2023-11-07',
        '2023-08-01',
        '2023-05-02',
        '2023-02-08',
    ],
    SHOP: [
        '2025-11-12',
        '2025-08-06',
        '2025-05-08',
        '2025-02-11',

        '2024-11-12',
        '2024-08-07',
        '2024-05-08',
        '2024-02-13',

        '2023-11-02',
        '2023-08-02',
        '2023-05-04',
        '2023-02-15',
    ],
    PINS: [
        '2025-11-06',
        '2025-08-07',
        '2025-05-08',
        '2025-02-06',

        '2024-11-07',
        '2024-07-30',
        '2024-04-30',
        '2024-02-08',

        '2023-10-30',
        '2023-08-01',
        '2023-04-27',
        '2023-02-06',
    ],
    TTD: [
        '2025-11-06',
        '2025-08-07',
        '2025-05-08',
        '2025-02-12',

        '2024-11-07',
        '2024-08-08',
        '2024-05-08',
        '2024-02-15',

        '2023-11-09',
        '2023-08-09',
        '2023-05-10',
        '2023-02-15',
    ],
    XYZ: [
        '2025-11-06',
        '2025-08-07',
        '2025-05-01',
        '2025-02-20',

        '2024-11-07',
        '2024-08-01',
        '2024-05-02',
        '2024-02-22',

        '2023-11-02',
        '2023-08-03',
        '2023-05-04',
        '2023-02-23',
    ],
    LLY: [
        '2025-10-30',
        '2025-08-07',
        '2025-05-01',
        '2025-02-06',

        '2024-10-30',
        '2024-08-08',
        '2024-04-30',
        '2024-02-06',

        '2023-11-02',
        '2023-08-08',
        '2023-04-27',
        '2023-02-02',
    ],
    GILD: [
        '2025-11-05',
        '2025-08-07',
        '2025-04-24',
        '2025-02-11',

        '2024-11-06',
        '2024-08-08',
        '2024-04-25',
        '2024-02-06',

        '2023-11-07',
        '2023-08-03',
        '2023-04-27',
        '2023-02-02',
    ],
    SEA: [
        '2025-11-11',
        '2025-08-12',
        '2025-05-13',
        '2025-03-04',

        '2024-11-12',
        '2024-08-13',
        '2024-05-14',
        '2024-03-04',

        '2023-11-14',
        '2023-08-15',
        '2023-05-16',
        '2023-03-07',
    ],
    TME: [
        '2025-11-11',
        '2025-08-12',
        '2025-05-13',
        '2025-03-18',

        '2024-11-12',
        '2024-08-13',
        '2024-05-13',
        '2024-03-19',

        '2023-11-14',
        '2023-08-15',
        '2023-05-16',
        '2023-03-21',
    ],
    HK_0700: [
        '2025-11-13',
        '2025-08-13',
        '2025-05-14',
        '2025-03-19',

        '2024-11-13',
        '2024-08-14',
        '2024-05-14',
        '2024-03-20',

        '2023-11-15',
        '2023-08-16',
        '2023-05-17',
        '2023-03-22',
    ],
    NU: [
        '2025-11-13',
        '2025-08-14',
        '2025-05-13',
        '2025-02-20',

        '2024-11-13',
        '2024-08-13',
        '2024-05-14',
        '2024-02-22',

        '2023-11-14',
        '2023-08-15',
        '2023-05-15',
        '2023-02-14',
    ],
    JD: [
        '2025-11-13',
        '2025-08-14',
        '2025-05-13',
        '2025-03-06',

        '2024-11-14',
        '2024-08-15',
        '2024-05-16',
        '2024-03-06',

        '2023-11-15',
        '2023-08-16',
        '2023-05-11',
        '2023-03-09',
    ],
    XPEV: [
        '2025-11-18',
        '2025-08-19',
        '2025-05-21',
        '2025-03-18',

        '2024-11-19',
        '2024-08-20',
        '2024-05-21',
        '2024-03-19',

        '2023-11-15',
        '2023-08-18',
        '2023-05-24',
        '2023-03-17',
    ],
    BIDU: [
        '2025-11-20',
        '2025-08-20',
        '2025-05-21',
        '2025-02-18',

        '2024-11-21',
        '2024-08-22',
        '2024-05-16',
        '2024-02-28',

        '2023-11-21',
        '2023-08-22',
        '2023-05-16',
        '2023-02-22',
    ],
    FUTU: [
        '2025-11-18',
        '2025-08-20',
        '2025-05-29',
        '2025-03-13',

        '2024-11-19',
        '2024-08-20',
        '2024-05-28',
        '2024-03-14',

        '2023-11-23',
        '2023-08-24',
        '2023-05-24',
        '2023-03-28',
    ],
    MNSO: [
        '2025-11-28',
        '2025-08-21',
        '2025-05-23',
        '2025-03-21',

        '2024-11-29',
        '2024-08-30',
        '2024-05-14',
        '2024-03-12',

        '2023-05-16',
        '2023-02-28',
    ],
    BILI: [
        '2025-11-13',
        '2025-08-21',
        '2025-05-20',
        '2025-02-20',

        '2024-11-14',
        '2024-08-22',
        '2024-05-23',
        '2024-03-07',

        '2023-11-29',
        '2023-08-17',
        '2023-06-01',
        '2023-03-02',
    ],
    WMT: [
        '2025-11-20',
        '2025-08-21',
        '2025-05-15',
        '2025-02-20',

        '2024-11-19',
        '2024-08-15',
        '2024-05-16',
        '2024-02-20',

        '2023-11-16',
        '2023-08-17',
        '2023-05-18',
        '2023-02-21',
    ],
    ZM: [
        '2025-11-24',
        '2025-08-21',
        '2025-05-21',
        '2025-02-24',

        '2024-11-25',
        '2024-08-21',
        '2024-05-20',
        '2024-02-26',

        '2023-11-20',
        '2023-08-21',
        '2023-05-22',
    ],
    PDD: [
        '2025-08-25',
        '2025-05-27',
        '2025-03-20',

        '2024-11-21',
        '2024-08-26',
        '2024-05-22',
        '2024-03-20',

        '2023-11-28',
        '2023-08-29',
        '2023-05-26',
        '2023-03-20',
    ],
    OKTA: [
        '2025-08-26',
        '2025-05-27',
        '2025-03-03',

        '2024-12-03',
        '2024-08-28',
        '2024-05-29',
        '2024-02-28',

        '2023-11-29',
        '2023-08-30',
        '2023-05-31',
        '2023-03-01',
    ],
    BEKE: [
        '2025-08-26',
        '2025-05-15',
        '2025-03-18',

        '2024-11-21',
        '2024-08-12',
        '2024-05-23',
        '2024-03-14',

        '2023-11-08',
        '2023-08-31',
        '2023-05-18',
        '2023-03-16',
    ],
    NVDA: [
        '2025-11-19',
        '2025-08-27',
        '2025-05-28',
        '2025-02-26',

        '2024-11-20',
        '2024-08-28',
        '2024-05-22',
        '2024-02-21',

        '2023-11-21',
        '2023-08-23',
        '2023-05-24',
        '2023-02-22',
    ],
    SNOW: [
        '2025-08-27',
        '2025-05-21',
        '2025-02-26',

        '2024-11-20',
        '2024-08-21',
        '2024-05-22',
        '2024-02-28',

        '2023-11-29',
        '2023-08-23',
        '2023-05-24',
        '2023-03-01',
    ],
    HPQ: [
        '2025-08-27',
        '2025-05-28',
        '2025-02-27',

        '2024-11-26',
        '2024-08-28',
        '2024-05-29',
        '2024-02-28',

        '2023-11-21',
        '2023-08-29',
        '2023-05-30',
        '2023-02-28',
    ],
    TCOM: [
        '2025-08-27',
        '2025-05-19',
        '2025-02-24',

        '2024-11-18',
        '2024-08-26',
        '2024-05-20',
        '2024-02-21',

        '2023-11-20',
        '2023-09-04',
        '2023-06-07',
        '2023-03-07',
    ],
    DELL: [
        '2025-11-25',
        '2025-08-28',
        '2025-05-29',
        '2025-02-27',

        '2024-11-26',
        '2024-05-30',
        '2024-02-29',

        '2023-11-30',
        '2023-08-31',
        '2023-06-01',
    ],
    AFRM: [
        '2025-08-28',
        '2025-05-08',
        '2025-02-06',

        '2024-11-07',
        '2024-08-28',
        '2024-05-08',
        '2024-02-08',

        '2023-11-08',
        '2023-08-24',
        '2023-05-09',
        '2023-02-08',
    ],
    LI: [
        '2025-08-28',
        '2025-05-29',
        '2025-03-14',

        '2024-10-31',
        '2024-08-28',
        '2024-05-20',
        '2024-02-26',

        '2023-11-09',
        '2023-08-08',
        '2023-05-10',
        '2023-02-27',
    ],
    BABA: [
        '2025-08-29',
        '2025-05-15',
        '2025-02-20',

        '2024-11-15',
        '2024-08-15',
        '2024-05-14',
        '2024-02-07',

        '2023-11-16',
        '2023-05-18',
        '2023-02-23',
    ],
    NIO: [
        '2025-09-02',
        '2025-06-03',
        '2025-03-21',

        '2024-11-20',
        '2024-09-05',
        '2024-06-06',
        '2024-03-05',

        '2023-12-05',
        '2023-08-29',
        '2023-06-09',
        '2023-03-01',
    ],
    GTLB: [
        '2025-09-03',
        '2025-06-10',
        '2025-03-03',

        '2024-12-05',
        '2024-09-03',
        '2024-06-03',
        '2024-03-04',

        '2023-09-05',
        '2023-06-05',
    ],
    AVGO: [
        '2025-09-04',
        '2025-06-05',
        '2025-03-06',

        '2024-12-12',
        '2024-09-05',
        '2024-06-12',
        '2024-03-07',

        '2023-12-07',
        '2023-08-31',
        '2023-06-01',
        '2023-03-02',
    ],
    ORCL: [
        '2025-09-09',
        '2025-06-11',
        '2025-03-10',

        '2024-12-09',
        '2024-09-09',
        '2024-06-11',
        '2024-03-11',

        '2023-12-11',
        '2023-09-11',
        '2023-06-12',
        '2023-03-09',
    ],
    ADBE: [
        '2025-09-11',
        '2025-06-12',
        '2025-03-12',

        '2024-12-11',
        '2024-09-12',
        '2024-06-13',
        '2024-03-14',

        '2023-12-13',
        '2023-09-14',
        '2023-06-15',
        '2023-03-15',
    ],
}


def _filter_fs(from_date: str, to_date: str):
    hits = []
    for stock_name, dates in Financial_Statements.items():
        for date in dates:
            if from_date <= date <= to_date:
                hits.append((stock_name, date))

    hits.sort(key=lambda x: x[1])

    current_week = None
    stock_names = []

    for stock_name, date in hits:
        dto = datetime.strptime(date, '%Y-%m-%d')
        week, weekday = dto.isocalendar()[1], dto.strftime('%a')

        if current_week != week:
            print(f"----------\t{stock_names}")
            current_week = week
            stock_names = []

        print(f"{date}\t{weekday}\t\t{stock_name}")
        stock_names.append(stock_name)


def get_incoming_fs():
    from_date = datetime.now().strftime('%Y-%m-%d')
    to_date = (datetime.now() + relativedelta(months=1)).strftime('%Y-%m-%d')
    _filter_fs(from_date, to_date)


def get_past_fs():
    from_date = (datetime.now() - relativedelta(months=1)).strftime('%Y-%m-%d')
    to_date = datetime.now().strftime('%Y-%m-%d')
    _filter_fs(from_date, to_date)


if __name__ == '__main__':
    get_incoming_fs()
    # get_past_fs()
