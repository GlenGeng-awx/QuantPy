MARGINS = {
    "^IXIC": {
        "10": {
            "incr": 0.05,
            "decr": 0.05
        },
        "5": {
            "incr": 0.04,
            "decr": 0.03
        },
        "3": {
            "incr": 0.03,
            "decr": 0.03
        }
    },
    "000300.SS": {
        "10": {
            "incr": 0.05,
            "decr": 0.04
        },
        "5": {
            "incr": 0.03,
            "decr": 0.03
        },
        "3": {
            "incr": 0.02,
            "decr": 0.02
        }
    },
    "000001.SS": {
        "10": {
            "incr": 0.04,
            "decr": 0.03
        },
        "5": {
            "incr": 0.03,
            "decr": 0.02
        },
        "3": {
            "incr": 0.02,
            "decr": 0.02
        }
    },
    "AMD": {
        "10": {
            "incr": 0.19,
            "decr": 0.12
        },
        "5": {
            "incr": 0.13,
            "decr": 0.09
        },
        "3": {
            "incr": 0.09,
            "decr": 0.06
        }
    },
    "ZM": {
        "10": {
            "incr": 0.11,
            "decr": 0.08
        },
        "5": {
            "incr": 0.07,
            "decr": 0.06
        },
        "3": {
            "incr": 0.05,
            "decr": 0.05
        }
    },
    "TSM": {
        "10": {
            "incr": 0.14,
            "decr": 0.08
        },
        "5": {
            "incr": 0.09,
            "decr": 0.06
        },
        "3": {
            "incr": 0.07,
            "decr": 0.05
        }
    },
    "BA": {
        "10": {
            "incr": 0.11,
            "decr": 0.09
        },
        "5": {
            "incr": 0.07,
            "decr": 0.06
        },
        "3": {
            "incr": 0.05,
            "decr": 0.05
        }
    },
    "SQ": {
        "10": {
            "incr": 0.17,
            "decr": 0.15
        },
        "5": {
            "incr": 0.12,
            "decr": 0.11
        },
        "3": {
            "incr": 0.08,
            "decr": 0.09
        }
    },
    "PINS": {
        "10": {
            "incr": 0.12,
            "decr": 0.19
        },
        "5": {
            "incr": 0.09,
            "decr": 0.09
        },
        "3": {
            "incr": 0.06,
            "decr": 0.07
        }
    },
    "IQ": {
        "10": {
            "incr": 0.21,
            "decr": 0.2
        },
        "5": {
            "incr": 0.15,
            "decr": 0.14
        },
        "3": {
            "incr": 0.1,
            "decr": 0.09
        }
    },
    "RIVN": {
        "10": {
            "incr": 0.3,
            "decr": 0.21
        },
        "5": {
            "incr": 0.17,
            "decr": 0.15
        },
        "3": {
            "incr": 0.14,
            "decr": 0.11
        }
    },
    "CPNG": {
        "10": {
            "incr": 0.15,
            "decr": 0.09
        },
        "5": {
            "incr": 0.09,
            "decr": 0.07
        },
        "3": {
            "incr": 0.07,
            "decr": 0.06
        }
    },
    "ADBE": {
        "10": {
            "incr": 0.14,
            "decr": 0.1
        },
        "5": {
            "incr": 0.08,
            "decr": 0.07
        },
        "3": {
            "incr": 0.05,
            "decr": 0.06
        }
    },
    "NIO": {
        "10": {
            "incr": 0.3,
            "decr": 0.19
        },
        "5": {
            "incr": 0.21,
            "decr": 0.14
        },
        "3": {
            "incr": 0.14,
            "decr": 0.09
        }
    },
    "TSLA": {
        "10": {
            "incr": 0.26,
            "decr": 0.15
        },
        "5": {
            "incr": 0.13,
            "decr": 0.12
        },
        "3": {
            "incr": 0.09,
            "decr": 0.08
        }
    },
    "PLTR": {
        "10": {
            "incr": 0.3,
            "decr": 0.13
        },
        "5": {
            "incr": 0.2,
            "decr": 0.11
        },
        "3": {
            "incr": 0.13,
            "decr": 0.09
        }
    },
    "MRNA": {
        "10": {
            "incr": 0.18,
            "decr": 0.18
        },
        "5": {
            "incr": 0.11,
            "decr": 0.12
        },
        "3": {
            "incr": 0.09,
            "decr": 0.09
        }
    },
    "PFE": {
        "10": {
            "incr": 0.07,
            "decr": 0.07
        },
        "5": {
            "incr": 0.04,
            "decr": 0.05
        },
        "3": {
            "incr": 0.04,
            "decr": 0.03
        }
    },
    "COIN": {
        "10": {
            "incr": 0.36,
            "decr": 0.2
        },
        "5": {
            "incr": 0.22,
            "decr": 0.16
        },
        "3": {
            "incr": 0.17,
            "decr": 0.12
        }
    },
    "META": {
        "10": {
            "incr": 0.12,
            "decr": 0.09
        },
        "5": {
            "incr": 0.08,
            "decr": 0.06
        },
        "3": {
            "incr": 0.06,
            "decr": 0.04
        }
    },
    "PDD": {
        "10": {
            "incr": 0.23,
            "decr": 0.13
        },
        "5": {
            "incr": 0.15,
            "decr": 0.1
        },
        "3": {
            "incr": 0.11,
            "decr": 0.07
        }
    },
    "EBAY": {
        "10": {
            "incr": 0.08,
            "decr": 0.08
        },
        "5": {
            "incr": 0.05,
            "decr": 0.05
        },
        "3": {
            "incr": 0.04,
            "decr": 0.03
        }
    },
    "LI": {
        "10": {
            "incr": 0.23,
            "decr": 0.17
        },
        "5": {
            "incr": 0.15,
            "decr": 0.13
        },
        "3": {
            "incr": 0.1,
            "decr": 0.09
        }
    },
    "BILI": {
        "10": {
            "incr": 0.23,
            "decr": 0.15
        },
        "5": {
            "incr": 0.16,
            "decr": 0.13
        },
        "3": {
            "incr": 0.12,
            "decr": 0.1
        }
    },
    "FUTU": {
        "10": {
            "incr": 0.28,
            "decr": 0.12
        },
        "5": {
            "incr": 0.17,
            "decr": 0.09
        },
        "3": {
            "incr": 0.13,
            "decr": 0.07
        }
    },
    "BABA": {
        "10": {
            "incr": 0.15,
            "decr": 0.11
        },
        "5": {
            "incr": 0.09,
            "decr": 0.07
        },
        "3": {
            "incr": 0.07,
            "decr": 0.06
        }
    },
    "0700.HK": {
        "10": {
            "incr": 0.13,
            "decr": 0.07
        },
        "5": {
            "incr": 0.09,
            "decr": 0.06
        },
        "3": {
            "incr": 0.06,
            "decr": 0.05
        }
    },
    "NVDA": {
        "10": {
            "incr": 0.21,
            "decr": 0.13
        },
        "5": {
            "incr": 0.13,
            "decr": 0.09
        },
        "3": {
            "incr": 0.1,
            "decr": 0.07
        }
    },
    "XPEV": {
        "10": {
            "incr": 0.33,
            "decr": 0.19
        },
        "5": {
            "incr": 0.2,
            "decr": 0.13
        },
        "3": {
            "incr": 0.16,
            "decr": 0.1
        }
    },
    "EDU": {
        "10": {
            "incr": 0.19,
            "decr": 0.11
        },
        "5": {
            "incr": 0.12,
            "decr": 0.08
        },
        "3": {
            "incr": 0.09,
            "decr": 0.07
        }
    },
    "SNOW": {
        "10": {
            "incr": 0.14,
            "decr": 0.15
        },
        "5": {
            "incr": 0.1,
            "decr": 0.1
        },
        "3": {
            "incr": 0.09,
            "decr": 0.08
        }
    },
    "MNSO": {
        "10": {
            "incr": 0.2,
            "decr": 0.15
        },
        "5": {
            "incr": 0.14,
            "decr": 0.1
        },
        "3": {
            "incr": 0.1,
            "decr": 0.09
        }
    },
    "BNTX": {
        "10": {
            "incr": 0.13,
            "decr": 0.11
        },
        "5": {
            "incr": 0.07,
            "decr": 0.08
        },
        "3": {
            "incr": 0.06,
            "decr": 0.06
        }
    },
    "JD": {
        "10": {
            "incr": 0.19,
            "decr": 0.14
        },
        "5": {
            "incr": 0.12,
            "decr": 0.1
        },
        "3": {
            "incr": 0.1,
            "decr": 0.07
        }
    },
    "BEKE": {
        "10": {
            "incr": 0.21,
            "decr": 0.12
        },
        "5": {
            "incr": 0.16,
            "decr": 0.1
        },
        "3": {
            "incr": 0.11,
            "decr": 0.07
        }
    },
    "SNAP": {
        "10": {
            "incr": 0.2,
            "decr": 0.26
        },
        "5": {
            "incr": 0.12,
            "decr": 0.12
        },
        "3": {
            "incr": 0.09,
            "decr": 0.1
        }
    },
    "TTD": {
        "10": {
            "incr": 0.13,
            "decr": 0.15
        },
        "5": {
            "incr": 0.11,
            "decr": 0.09
        },
        "3": {
            "incr": 0.08,
            "decr": 0.07
        }
    },
    "YY": {
        "10": {
            "incr": 0.12,
            "decr": 0.12
        },
        "5": {
            "incr": 0.07,
            "decr": 0.08
        },
        "3": {
            "incr": 0.06,
            "decr": 0.06
        }
    },
    "MCD": {
        "10": {
            "incr": 0.04,
            "decr": 0.05
        },
        "5": {
            "incr": 0.03,
            "decr": 0.03
        },
        "3": {
            "incr": 0.02,
            "decr": 0.02
        }
    },
    "GILD": {
        "10": {
            "incr": 0.07,
            "decr": 0.06
        },
        "5": {
            "incr": 0.05,
            "decr": 0.05
        },
        "3": {
            "incr": 0.03,
            "decr": 0.03
        }
    },
    "TCOM": {
        "10": {
            "incr": 0.12,
            "decr": 0.08
        },
        "5": {
            "incr": 0.09,
            "decr": 0.06
        },
        "3": {
            "incr": 0.07,
            "decr": 0.05
        }
    },
    "MRK": {
        "10": {
            "incr": 0.06,
            "decr": 0.05
        },
        "5": {
            "incr": 0.04,
            "decr": 0.03
        },
        "3": {
            "incr": 0.03,
            "decr": 0.03
        }
    },
    "DIS": {
        "10": {
            "incr": 0.11,
            "decr": 0.07
        },
        "5": {
            "incr": 0.06,
            "decr": 0.05
        },
        "3": {
            "incr": 0.04,
            "decr": 0.04
        }
    },
    "TME": {
        "10": {
            "incr": 0.14,
            "decr": 0.11
        },
        "5": {
            "incr": 0.1,
            "decr": 0.09
        },
        "3": {
            "incr": 0.08,
            "decr": 0.07
        }
    },
    "GS": {
        "10": {
            "incr": 0.08,
            "decr": 0.07
        },
        "5": {
            "incr": 0.05,
            "decr": 0.05
        },
        "3": {
            "incr": 0.04,
            "decr": 0.04
        }
    },
    "SE": {
        "10": {
            "incr": 0.21,
            "decr": 0.17
        },
        "5": {
            "incr": 0.13,
            "decr": 0.12
        },
        "3": {
            "incr": 0.1,
            "decr": 0.07
        }
    },
    "ERIC": {
        "10": {
            "incr": 0.1,
            "decr": 0.08
        },
        "5": {
            "incr": 0.06,
            "decr": 0.06
        },
        "3": {
            "incr": 0.04,
            "decr": 0.04
        }
    },
    "UBER": {
        "10": {
            "incr": 0.15,
            "decr": 0.08
        },
        "5": {
            "incr": 0.1,
            "decr": 0.07
        },
        "3": {
            "incr": 0.07,
            "decr": 0.05
        }
    },
    "INTC": {
        "10": {
            "incr": 0.15,
            "decr": 0.12
        },
        "5": {
            "incr": 0.1,
            "decr": 0.1
        },
        "3": {
            "incr": 0.07,
            "decr": 0.07
        }
    },
    "MS": {
        "10": {
            "incr": 0.09,
            "decr": 0.08
        },
        "5": {
            "incr": 0.06,
            "decr": 0.06
        },
        "3": {
            "incr": 0.04,
            "decr": 0.05
        }
    },
    "OKTA": {
        "10": {
            "incr": 0.19,
            "decr": 0.15
        },
        "5": {
            "incr": 0.11,
            "decr": 0.09
        },
        "3": {
            "incr": 0.07,
            "decr": 0.07
        }
    },
    "CFLT": {
        "10": {
            "incr": 0.26,
            "decr": 0.17
        },
        "5": {
            "incr": 0.13,
            "decr": 0.12
        },
        "3": {
            "incr": 0.12,
            "decr": 0.09
        }
    },
    "QCOM": {
        "10": {
            "incr": 0.12,
            "decr": 0.09
        },
        "5": {
            "incr": 0.08,
            "decr": 0.07
        },
        "3": {
            "incr": 0.05,
            "decr": 0.06
        }
    },
    "ETSY": {
        "10": {
            "incr": 0.13,
            "decr": 0.13
        },
        "5": {
            "incr": 0.09,
            "decr": 0.1
        },
        "3": {
            "incr": 0.07,
            "decr": 0.07
        }
    },
    "SHOP": {
        "10": {
            "incr": 0.25,
            "decr": 0.17
        },
        "5": {
            "incr": 0.13,
            "decr": 0.09
        },
        "3": {
            "incr": 0.09,
            "decr": 0.07
        }
    },
    "GTLB": {
        "10": {
            "incr": 0.23,
            "decr": 0.2
        },
        "5": {
            "incr": 0.14,
            "decr": 0.14
        },
        "3": {
            "incr": 0.1,
            "decr": 0.09
        }
    }
}


if __name__ == '__main__':
    import json
    from conf import *
    from d1_1_preload import preload
    from features.f_011_b import get_incr_benchmark
    from features.f_011_s import get_decr_benchmark

    margins = {}

    for stock_name in ALL:
        base_engine = preload(stock_name)
        stock_df = base_engine.stock_df

        margins[stock_name] = {}

        for sz in [10, 5, 3]:
            incr_benchmark = get_incr_benchmark(stock_df, sz)
            decr_benchmark = get_decr_benchmark(stock_df, sz)

            margins[stock_name][sz] = {
                'incr': int(incr_benchmark * 100) / 100,
                'decr': int(decr_benchmark * 100) / 100,
            }

    print(json.dumps(margins, indent=4))
